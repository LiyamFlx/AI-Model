{
  "id": "wan22-fun-control-v1",
  "revision": 0,
  "last_node_id": 100,
  "last_link_id": 100,
  "nodes": [
    {
      "id": 200,
      "type": "MarkdownNote",
      "pos": [-1100, -800],
      "size": [1050, 750],
      "flags": {},
      "order": 0,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "üìã WAN 2.2 FUN CONTROL - Complete Reference Guide",
      "properties": {},
      "widgets_values": ["## üéÆ Wan 2.2 Fun Control Video Generation\n\n**Control your video with pose, depth, canny, or trajectory!**\n\n---\n\n### üîÑ HIGH vs LOW NOISE Models\n| Type | Model | LoRA | Use Case |\n|------|-------|------|----------|\n| **High Noise** | `wan2.2_fun_control_high_noise_14B` | `high_noise_lora` | Best for STRONG control - pose mimicking, precise movements |\n| **Low Noise** | `wan2.2_fun_control_low_noise_14B` | `low_noise_lora` | More creative freedom, softer adherence to control |\n\n‚ö†Ô∏è **CRITICAL:** Model and LoRA must match! High noise model ‚Üí High noise LoRA\n\n---\n\n### üéØ CONTROL TYPES\n| Control | Best For | Preprocessor |\n|---------|----------|-------------|\n| **Pose (OpenPose)** | Human/character movement | DWPose/OpenPose |\n| **Depth** | Scene structure, 3D space | MiDaS/Zoe Depth |\n| **Canny** | Edge-based, line art | Canny Edge |\n| **MLSD** | Architecture, straight lines | MLSD |\n| **Trajectory** | Camera/object paths | Custom drawing |\n\n---\n\n### ‚ö° SPEED PRESETS (with LoRA)\n| Mode | Resolution | Frames | Steps | LoRA | Time |\n|------|------------|--------|-------|------|------|\n| üöÄ Quick | 512x320 | 33 | 4 | 0.5 | ~45s |\n| ‚öñÔ∏è Standard | 832x480 | 81 | 4 | 0.4 | ~5min |\n| üíé Quality | 832x480 | 97 | 6 | 0.3 | ~10min |\n| üé¨ Pro | 1280x720 | 129 | 8 | 0.3 | ~25min |\n\n---\n\n### üìê RESOLUTION OPTIONS\n| Size | Ratio | VRAM | Platform |\n|------|-------|------|----------|\n| 512x320 | 16:9 | ~15GB | Testing |\n| 832x480 | 16:9 | ~25GB | Standard ‚≠ê |\n| 480x832 | 9:16 | ~25GB | TikTok/Reels |\n| 1280x720 | 16:9 | ~40GB | YouTube |"],
      "color": "#233",
      "bgcolor": "#355"
    },
    {
      "id": 201,
      "type": "MarkdownNote",
      "pos": [-1100, -10],
      "size": [500, 450],
      "flags": {},
      "order": 1,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "üéØ CONTROL VIDEO PREPARATION",
      "properties": {},
      "widgets_values": ["## How to Prepare Control Video:\n\n### Option 1: From Existing Video\n1. Find video with motion you want\n2. Extract poses using DWPose\n3. Use extracted poses as control\n\n### Option 2: Create Pose Video\n1. Use ControlNet preprocessor\n2. Run on source video\n3. Save as control reference\n\n### Option 3: Draw Trajectory\n1. Create simple shape/path video\n2. Use as trajectory control\n3. Object follows drawn path\n\n---\n\n### üìπ Control Video Requirements:\n- Same resolution as output\n- Same frame count as output\n- Black background preferred\n- Clear, visible control signal\n\n### üí° Tips:\n- Higher contrast = better control\n- Simple motions work best\n- Test with short clips first"],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 202,
      "type": "MarkdownNote",
      "pos": [-580, -10],
      "size": [500, 450],
      "flags": {},
      "order": 2,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "üñºÔ∏è START FRAME OPTIONS",
      "properties": {},
      "widgets_values": ["## Start Frame (Optional but Recommended)\n\n### What is Start Frame?\nThe first frame image that sets:\n- Character appearance\n- Scene composition\n- Color palette\n- Style reference\n\n### How It Works:\n1. **With Start Frame:** Video begins from your image\n2. **Without Start Frame:** AI generates from scratch\n\n### Best Practices:\n- Use clear, high-quality image\n- Match subject to control video\n- Same aspect ratio as output\n- Front-facing works best\n\n---\n\n### üîó CLIP Vision:\nEnhances start frame understanding\n- Extracts visual features\n- Better style preservation\n- Improves consistency\n\n### üí° Pro Tip:\nCombine start frame + matching pose from same video for perfect results!"],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 1,
      "type": "UNETLoader",
      "pos": [-30, -550],
      "size": [400, 82],
      "flags": {},
      "order": 3,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [1]
        }
      ],
      "title": "üß† DIFFUSION MODEL (High Noise - DEFAULT)",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.34",
        "Node name for S&R": "UNETLoader",
        "models": [
          {
            "name": "wan2.2_fun_control_high_noise_14B_fp8_scaled.safetensors",
            "url": "https://huggingface.co/Comfy-Org/Wan_2.2_ComfyUI_repackaged/resolve/main/split_files/diffusion_models/wan2.2_fun_control_high_noise_14B_fp8_scaled.safetensors",
            "directory": "diffusion_models"
          }
        ]
      },
      "widgets_values": ["wan2.2_fun_control_high_noise_14B_fp8_scaled.safetensors", "fp8_e4m3fn"],
      "color": "#2a3a2a",
      "bgcolor": "#3a5a3a"
    },
    {
      "id": 50,
      "type": "UNETLoader",
      "pos": [-30, -430],
      "size": [400, 82],
      "flags": {},
      "order": 4,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": []
        }
      ],
      "title": "üß† DIFFUSION MODEL (Low Noise - DISABLED)",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.34",
        "Node name for S&R": "UNETLoader",
        "models": [
          {
            "name": "wan2.2_fun_control_low_noise_14B_fp8_scaled.safetensors",
            "url": "https://huggingface.co/Comfy-Org/Wan_2.2_ComfyUI_repackaged/resolve/main/split_files/diffusion_models/wan2.2_fun_control_low_noise_14B_fp8_scaled.safetensors",
            "directory": "diffusion_models"
          }
        ]
      },
      "widgets_values": ["wan2.2_fun_control_low_noise_14B_fp8_scaled.safetensors", "fp8_e4m3fn"],
      "color": "#3a2a2a",
      "bgcolor": "#5a3a3a"
    },
    {
      "id": 2,
      "type": "CLIPLoader",
      "pos": [-30, -310],
      "size": [400, 106],
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [2]
        }
      ],
      "title": "üìù Text Encoder (UMT5)",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.34",
        "Node name for S&R": "CLIPLoader",
        "models": [
          {
            "name": "umt5_xxl_fp8_e4m3fn_scaled.safetensors",
            "url": "https://huggingface.co/Comfy-Org/Wan_2.1_ComfyUI_repackaged/resolve/main/split_files/text_encoders/umt5_xxl_fp8_e4m3fn_scaled.safetensors",
            "directory": "text_encoders"
          }
        ]
      },
      "widgets_values": ["umt5_xxl_fp8_e4m3fn_scaled.safetensors", "wan", "fp8_e4m3fn"]
    },
    {
      "id": 3,
      "type": "VAELoader",
      "pos": [-30, -170],
      "size": [400, 58],
      "flags": {},
      "order": 6,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "VAE",
          "type": "VAE",
          "links": [3, 31]
        }
      ],
      "title": "üé® VAE Decoder",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.34",
        "Node name for S&R": "VAELoader",
        "models": [
          {
            "name": "wan_2.1_vae.safetensors",
            "url": "https://huggingface.co/Comfy-Org/Wan_2.1_ComfyUI_repackaged/resolve/main/split_files/vae/wan_2.1_vae.safetensors",
            "directory": "vae"
          }
        ]
      },
      "widgets_values": ["wan_2.1_vae.safetensors"]
    },
    {
      "id": 4,
      "type": "CLIPVisionLoader",
      "pos": [-30, -80],
      "size": [400, 58],
      "flags": {},
      "order": 7,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "CLIP_VISION",
          "type": "CLIP_VISION",
          "links": [4]
        }
      ],
      "title": "üëÅÔ∏è CLIP Vision (for Start Frame)",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.34",
        "Node name for S&R": "CLIPVisionLoader",
        "models": [
          {
            "name": "clip_vision_h.safetensors",
            "url": "https://huggingface.co/Comfy-Org/Wan_2.1_ComfyUI_repackaged/resolve/main/split_files/clip_vision/clip_vision_h.safetensors",
            "directory": "clip_vision"
          }
        ]
      },
      "widgets_values": ["clip_vision_h.safetensors"]
    },
    {
      "id": 5,
      "type": "LoraLoader",
      "pos": [-30, 10],
      "size": [400, 126],
      "flags": {},
      "order": 8,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 1
        },
        {
          "name": "clip",
          "type": "CLIP",
          "link": 2
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [5]
        },
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [6, 7]
        }
      ],
      "title": "‚ö° SPEED LORA (High Noise - MATCH MODEL!)",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.38",
        "Node name for S&R": "LoraLoader",
        "models": [
          {
            "name": "wan2.2_i2v_lightx2v_4steps_lora_v1_high_noise.safetensors",
            "url": "https://huggingface.co/Kijai/WanVideo_comfy/resolve/main/wan2.2_i2v_lightx2v_4steps_lora_v1_high_noise.safetensors",
            "directory": "loras"
          }
        ]
      },
      "widgets_values": ["wan2.2_i2v_lightx2v_4steps_lora_v1_high_noise.safetensors", 0.4, 1],
      "color": "#2a3a2a",
      "bgcolor": "#3a5a3a"
    },
    {
      "id": 51,
      "type": "LoraLoader",
      "pos": [-30, 170],
      "size": [400, 126],
      "flags": {},
      "order": 9,
      "mode": 4,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": null
        },
        {
          "name": "clip",
          "type": "CLIP",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": []
        },
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": []
        }
      ],
      "title": "‚ö° SPEED LORA (Low Noise - DISABLED)",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.38",
        "Node name for S&R": "LoraLoader",
        "models": [
          {
            "name": "wan2.2_i2v_lightx2v_4steps_lora_v1_low_noise.safetensors",
            "url": "https://huggingface.co/Kijai/WanVideo_comfy/resolve/main/wan2.2_i2v_lightx2v_4steps_lora_v1_low_noise.safetensors",
            "directory": "loras"
          }
        ]
      },
      "widgets_values": ["wan2.2_i2v_lightx2v_4steps_lora_v1_low_noise.safetensors", 0.4, 1],
      "color": "#3a2a2a",
      "bgcolor": "#5a3a3a"
    },
    {
      "id": 203,
      "type": "MarkdownNote",
      "pos": [400, -550],
      "size": [400, 500],
      "flags": {},
      "order": 10,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "üîß Model & LoRA Toolkit",
      "properties": {},
      "widgets_values": ["## ‚ö†Ô∏è IMPORTANT: Match Model & LoRA!\n\n### High Noise Setup (DEFAULT):\n1. Enable: `wan2.2_fun_control_high_noise`\n2. Enable: `high_noise_lora`\n3. Disable: Low noise nodes (mode=4)\n\n### Low Noise Setup:\n1. Enable: `wan2.2_fun_control_low_noise`\n2. Enable: `low_noise_lora`\n3. Disable: High noise nodes (mode=4)\n\n---\n\n### When to use which:\n\n**High Noise** ‚úÖ Recommended for:\n- Precise pose copying\n- Dance/movement videos\n- Exact motion matching\n\n**Low Noise** for:\n- More creative outputs\n- Looser control adherence\n- Artistic interpretations\n\n---\n\n### LoRA Strength:\n| Value | Effect |\n|-------|--------|\n| 0.3 | Stable, slower |\n| 0.4 | Balanced ‚≠ê |\n| 0.5 | Fast, may wobble |"],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 10,
      "type": "LoadImage",
      "pos": [850, -550],
      "size": [400, 350],
      "flags": {},
      "order": 11,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [10]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "title": "üñºÔ∏è STEP 1: Upload START FRAME (Optional)",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.34",
        "Node name for S&R": "LoadImage"
      },
      "widgets_values": ["example.png", "image"],
      "color": "#2a4a2a",
      "bgcolor": "#3a6a3a"
    },
    {
      "id": 11,
      "type": "LoadVideo",
      "pos": [850, -160],
      "size": [400, 280],
      "flags": {},
      "order": 12,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [11]
        },
        {
          "name": "AUDIO",
          "type": "AUDIO",
          "links": null
        },
        {
          "name": "VIDEO_INFO",
          "type": "VIDEO_INFO",
          "links": null
        }
      ],
      "title": "üé¨ STEP 2: Upload CONTROL VIDEO",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.34",
        "Node name for S&R": "LoadVideo"
      },
      "widgets_values": ["control_pose.mp4", 0, 0, 81, "vr", false, false, false],
      "color": "#2a4a2a",
      "bgcolor": "#3a6a3a"
    },
    {
      "id": 204,
      "type": "MarkdownNote",
      "pos": [850, 160],
      "size": [400, 280],
      "flags": {},
      "order": 13,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "üìπ Control Video Toolkit",
      "properties": {},
      "widgets_values": ["## Control Video Settings:\n\n**Frame Skip:** 0 = use all frames\n**Max Frames:** Match output length\n\n### Accepted Formats:\n- MP4, WebM, AVI, MOV\n- Image sequences in folder\n- GIF animations\n\n### Frame Count Guide:\n| Frames | Duration @16fps |\n|--------|----------------|\n| 33 | ~2 sec |\n| 49 | ~3 sec |\n| 81 | ~5 sec ‚≠ê |\n| 97 | ~6 sec |\n| 129 | ~8 sec |\n\n**üí° Control video frames = Output frames**"],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 20,
      "type": "CLIPTextEncode",
      "pos": [1300, -550],
      "size": [450, 180],
      "flags": {},
      "order": 14,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 6
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [20]
        }
      ],
      "title": "‚úèÔ∏è STEP 3: Write Your Prompt",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.34",
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": ["A young woman dancing gracefully in a sunlit room, wearing a flowing white dress. Soft natural lighting, cinematic quality, smooth professional movement. The fabric flows elegantly with each motion."],
      "color": "#2a4a2a",
      "bgcolor": "#3a6a3a"
    },
    {
      "id": 21,
      "type": "CLIPTextEncode",
      "pos": [1300, -330],
      "size": [450, 120],
      "flags": {},
      "order": 15,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 7
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [21]
        }
      ],
      "title": "üö´ Negative Prompt",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.34",
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": ["blurry, low quality, distorted, deformed, ugly, bad anatomy, extra limbs, missing limbs, floating limbs, mutation, watermark, text, logo, static, frozen, jittery, flickering, duplicate frames, artifacts, noise, overexposed, underexposed"],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 205,
      "type": "MarkdownNote",
      "pos": [1300, -170],
      "size": [450, 350],
      "flags": {},
      "order": 16,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "üìù Control Video Prompt Tips",
      "properties": {},
      "widgets_values": ["## Prompt Structure for Control:\n\n```\n[Subject] + [Action matching control] +\n[Appearance] + [Environment] + [Style]\n```\n\n### Examples by Control Type:\n\n**Pose Control:**\n```\nA dancer performing ballet, wearing white tutu, graceful movements, studio lighting, professional quality\n```\n\n**Depth Control:**\n```\nA forest path leading into misty mountains, depth fog, atmospheric perspective, cinematic\n```\n\n**Canny/Edge Control:**\n```\nArchitectural building with sharp edges, modern glass facade, clean lines, professional photography\n```\n\n**üí° Key:** Describe what you see in control video but with your creative additions!"],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 30,
      "type": "WanFunControlToVideo",
      "pos": [1800, -550],
      "size": [380, 320],
      "flags": {},
      "order": 17,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 5
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 20
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 21
        },
        {
          "name": "clip_vision",
          "type": "CLIP_VISION",
          "link": 4
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 3
        },
        {
          "name": "control_video",
          "type": "IMAGE",
          "link": 11
        },
        {
          "name": "start_image",
          "type": "IMAGE",
          "link": 10,
          "shape": 7
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [30]
        }
      ],
      "title": "üéÆ STEP 4: Generate with Control",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.34",
        "Node name for S&R": "WanFunControlToVideo"
      },
      "widgets_values": [832, 480, 81, 0, 4, 1, "uni_pc", "simple"],
      "color": "#2a4a2a",
      "bgcolor": "#3a6a3a"
    },
    {
      "id": 206,
      "type": "MarkdownNote",
      "pos": [1800, -190],
      "size": [380, 380],
      "flags": {},
      "order": 18,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "üéÆ Generation Settings Toolkit",
      "properties": {},
      "widgets_values": ["## WanFunControlToVideo Settings:\n\n**Resolution (width x height):**\n- 832x480 = 16:9 Standard ‚≠ê\n- 480x832 = 9:16 Vertical\n- 512x512 = Square\n- 1280x720 = HD (high VRAM)\n\n**Length (frames @16fps):**\n- 33 = 2 sec (testing)\n- 81 = 5 sec ‚≠ê\n- 129 = 8 sec\n- 161 = 10 sec\n\n**Seed:** 0 = random, set number to reproduce\n\n**Steps:** 4 with LoRA ‚≠ê, 20+ without\n\n**CFG:** 1 with LoRA ‚≠ê, 6-7 without\n\n**Sampler:** uni_pc ‚≠ê or dpmpp_2m\n\n**Scheduler:** simple ‚≠ê\n\n---\n**üí° Match frame count with control video!**"],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 40,
      "type": "VAEDecode",
      "pos": [2230, -550],
      "size": [210, 46],
      "flags": {},
      "order": 19,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 30
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 31
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [40, 41, 42]
        }
      ],
      "title": "üé® Decode to Video",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.34",
        "Node name for S&R": "VAEDecode"
      },
      "widgets_values": []
    },
    {
      "id": 41,
      "type": "PreviewImage",
      "pos": [2230, -470],
      "size": [450, 400],
      "flags": {},
      "order": 20,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 40
        }
      ],
      "outputs": [],
      "title": "üëÅÔ∏è PREVIEW",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.34",
        "Node name for S&R": "PreviewImage"
      },
      "widgets_values": [],
      "color": "#2a3a4a",
      "bgcolor": "#3a5a7a"
    },
    {
      "id": 42,
      "type": "CreateVideo",
      "pos": [2720, -550],
      "size": [280, 78],
      "flags": {},
      "order": 21,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 41
        },
        {
          "name": "audio",
          "shape": 7,
          "type": "AUDIO",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "VIDEO",
          "type": "VIDEO",
          "links": [43]
        }
      ],
      "title": "üé¨ Create Video @16fps",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.34",
        "Node name for S&R": "CreateVideo"
      },
      "widgets_values": [16]
    },
    {
      "id": 43,
      "type": "SaveVideo",
      "pos": [2720, -430],
      "size": [400, 280],
      "flags": {},
      "order": 22,
      "mode": 0,
      "inputs": [
        {
          "name": "video",
          "type": "VIDEO",
          "link": 43
        }
      ],
      "outputs": [],
      "title": "üíæ OUTPUT 1: MP4 Video",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.34",
        "Node name for S&R": "SaveVideo"
      },
      "widgets_values": ["fun_control/controlled_video", "auto", "auto"],
      "color": "#2a4a2a",
      "bgcolor": "#3a6a3a"
    },
    {
      "id": 44,
      "type": "SaveAnimatedWEBP",
      "pos": [2720, -110],
      "size": [400, 180],
      "flags": {},
      "order": 23,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 42
        }
      ],
      "outputs": [],
      "title": "üíæ OUTPUT 2: Animated WebP",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.34",
        "Node name for S&R": "SaveAnimatedWEBP"
      },
      "widgets_values": ["fun_control/controlled_animation", 16, true, 90, "default"],
      "color": "#2a4a2a",
      "bgcolor": "#3a6a3a"
    },
    {
      "id": 207,
      "type": "MarkdownNote",
      "pos": [2720, 110],
      "size": [400, 180],
      "flags": {},
      "order": 24,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "üíæ Output Toolkit",
      "properties": {},
      "widgets_values": ["**Output Locations:**\n`ComfyUI/output/fun_control/` ‚Üí MP4 & WebP\n\n**Formats:**\n- MP4: Best for sharing\n- WebP: Perfect for web, loops\n\n**üí° Tips:**\n- Rename prefix for different projects\n- WebP smaller file size"],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 208,
      "type": "MarkdownNote",
      "pos": [-30, 340],
      "size": [770, 400],
      "flags": {},
      "order": 25,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "üì• MODEL DOWNLOAD COMMANDS",
      "properties": {},
      "widgets_values": ["## Copy these commands to download all required models:\n\n```bash\n# Diffusion Models (choose one based on your needs)\nwget -P ComfyUI/models/diffusion_models/ https://huggingface.co/Comfy-Org/Wan_2.2_ComfyUI_repackaged/resolve/main/split_files/diffusion_models/wan2.2_fun_control_high_noise_14B_fp8_scaled.safetensors\n\nwget -P ComfyUI/models/diffusion_models/ https://huggingface.co/Comfy-Org/Wan_2.2_ComfyUI_repackaged/resolve/main/split_files/diffusion_models/wan2.2_fun_control_low_noise_14B_fp8_scaled.safetensors\n\n# Text Encoder\nwget -P ComfyUI/models/text_encoders/ https://huggingface.co/Comfy-Org/Wan_2.1_ComfyUI_repackaged/resolve/main/split_files/text_encoders/umt5_xxl_fp8_e4m3fn_scaled.safetensors\n\n# VAE\nwget -P ComfyUI/models/vae/ https://huggingface.co/Comfy-Org/Wan_2.1_ComfyUI_repackaged/resolve/main/split_files/vae/wan_2.1_vae.safetensors\n\n# CLIP Vision\nwget -P ComfyUI/models/clip_vision/ https://huggingface.co/Comfy-Org/Wan_2.1_ComfyUI_repackaged/resolve/main/split_files/clip_vision/clip_vision_h.safetensors\n\n# Speed LoRAs (download matching pair!)\nwget -P ComfyUI/models/loras/ https://huggingface.co/Kijai/WanVideo_comfy/resolve/main/wan2.2_i2v_lightx2v_4steps_lora_v1_high_noise.safetensors\n\nwget -P ComfyUI/models/loras/ https://huggingface.co/Kijai/WanVideo_comfy/resolve/main/wan2.2_i2v_lightx2v_4steps_lora_v1_low_noise.safetensors\n```"],
      "color": "#233",
      "bgcolor": "#355"
    },
    {
      "id": 209,
      "type": "MarkdownNote",
      "pos": [-30, 780],
      "size": [770, 280],
      "flags": {},
      "order": 26,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "üöÄ QUICK START WORKFLOW",
      "properties": {},
      "widgets_values": ["## 5-Step Workflow:\n\n1Ô∏è‚É£ **Upload Start Frame** (optional but recommended)\n   - Sets character appearance and style\n\n2Ô∏è‚É£ **Upload Control Video** \n   - Pose, depth, or edge video that defines motion\n\n3Ô∏è‚É£ **Write Prompt**\n   - Describe subject + action + style\n\n4Ô∏è‚É£ **Click Queue Prompt**\n   - Wait ~5 min for 832x480, 81 frames\n\n5Ô∏è‚É£ **Find Output**\n   - `ComfyUI/output/fun_control/`\n\n---\n**‚ö†Ô∏è Remember:** Model type MUST match LoRA type (high noise ‚Üí high noise LoRA)"],
      "color": "#2a4a2a",
      "bgcolor": "#3a6a3a"
    },
    {
      "id": 210,
      "type": "MarkdownNote",
      "pos": [850, 480],
      "size": [900, 400],
      "flags": {},
      "order": 27,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "üõ†Ô∏è TROUBLESHOOTING",
      "properties": {},
      "widgets_values": ["## Common Issues & Solutions:\n\n| Problem | Cause | Solution |\n|---------|-------|----------|\n| Motion doesn't match control | Wrong model type | Try high noise for precise control |\n| Blurry output | LoRA too strong | Reduce LoRA strength to 0.3 |\n| Character changes appearance | No start frame | Add start frame image |\n| OOM Error | Resolution too high | Lower to 512x320 |\n| Static video | Not enough steps | Increase steps to 6-8 |\n| Artifacts/noise | CFG too high | Lower CFG to 1 with LoRA |\n| Wrong style | Missing CLIP Vision | Ensure CLIP Vision connected |\n| Frame mismatch | Control ‚â† output frames | Match frame counts exactly |\n\n---\n\n### Model + LoRA Matching Rules:\n| If Model is... | LoRA MUST be... |\n|----------------|------------------|\n| `high_noise_14B` | `high_noise_lora` |\n| `low_noise_14B` | `low_noise_lora` |\n\n**‚ö†Ô∏è Mismatched model/LoRA = poor results!**"],
      "color": "#422",
      "bgcolor": "#633"
    }
  ],
  "links": [
    [1, 1, 0, 5, 0, "MODEL"],
    [2, 2, 0, 5, 1, "CLIP"],
    [3, 3, 0, 30, 4, "VAE"],
    [4, 4, 0, 30, 3, "CLIP_VISION"],
    [5, 5, 0, 30, 0, "MODEL"],
    [6, 5, 1, 20, 0, "CLIP"],
    [7, 5, 1, 21, 0, "CLIP"],
    [10, 10, 0, 30, 6, "IMAGE"],
    [11, 11, 0, 30, 5, "IMAGE"],
    [20, 20, 0, 30, 1, "CONDITIONING"],
    [21, 21, 0, 30, 2, "CONDITIONING"],
    [30, 30, 0, 40, 0, "LATENT"],
    [31, 3, 0, 40, 1, "VAE"],
    [40, 40, 0, 41, 0, "IMAGE"],
    [41, 40, 0, 42, 0, "IMAGE"],
    [42, 40, 0, 44, 0, "IMAGE"],
    [43, 42, 0, 43, 0, "VIDEO"]
  ],
  "groups": [
    {
      "id": 1,
      "title": "üìã REFERENCE GUIDES",
      "bounding": [-1120, -840, 1090, 1140],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 2,
      "title": "üîß MODELS & LoRAs (HIGH/LOW NOISE)",
      "bounding": [-50, -590, 880, 930],
      "color": "#555",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 3,
      "title": "üñºÔ∏è INPUT: Start Frame + Control Video",
      "bounding": [830, -590, 440, 1050],
      "color": "#3a6a3a",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 4,
      "title": "‚úèÔ∏è PROMPTS",
      "bounding": [1280, -590, 490, 630],
      "color": "#3a5a3a",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 5,
      "title": "üéÆ GENERATION",
      "bounding": [1780, -590, 420, 630],
      "color": "#3a5a3a",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 6,
      "title": "üëÅÔ∏è PREVIEW",
      "bounding": [2210, -590, 480, 470],
      "color": "#3a5a7a",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 7,
      "title": "üíæ OUTPUTS",
      "bounding": [2700, -590, 440, 920],
      "color": "#3a6a3a",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 8,
      "title": "üì• DOWNLOADS & QUICK START",
      "bounding": [-50, 300, 800, 790],
      "color": "#355",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 9,
      "title": "üõ†Ô∏è TROUBLESHOOTING",
      "bounding": [830, 440, 940, 470],
      "color": "#633",
      "font_size": 24,
      "flags": {}
    }
  ],
  "config": {},
  "extra": {
    "ds": {
      "scale": 0.4,
      "offset": [1200, 900]
    },
    "frontendVersion": "1.30.6",
    "node_versions": {
      "comfy-core": "0.3.34"
    }
  },
  "version": 0.4
}
